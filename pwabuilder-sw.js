const CACHE="pwabuilder-precache",precacheFiles=["./","./**/**/**/**/*.{html,js,png,jpg,css,svg,eot,ttf,woff,woff2}"],avoidCachingPaths=["second-page.html"];function fromCache(e){return caches.open(CACHE).then(function(t){return t.match(e).then(function(e){return e&&404!==e.status?e:Promise.reject("no-match")})})}function pathComparer(e,t){return e.match(new RegExp(t))}function comparePaths(e,t){if(e)for(let n=0;n<t.length;n++){if(pathComparer(e,t[n]))return!0}return!1}function updateCache(e,t){return comparePaths(e.url,avoidCachingPaths)?(console.log("updateCache - comparePaths => false"),Promise.resolve()):caches.open(CACHE).then(function(n){return console.log("updateCache - comparePaths => true"),n.put(e,t)})}self.addEventListener("install",function(e){console.log("[PWA Builder] Install Event processing"),console.log("[PWA Builder] Skip waiting on install"),self.skipWaiting(),e.waitUntil(caches.open(CACHE).then(function(e){return console.log("[PWA Builder] Caching pages during install"),e.addAll(precacheFiles)}))}),self.addEventListener("activate",function(e){console.log("[PWA Builder] Claiming clients for current page"),e.waitUntil(self.clients.claim())}),self.addEventListener("fetch",function(e){"GET"===e.request.method&&e.respondWith(fromCache(e.request).then(function(t){return e.waitUntil(fetch(e.request).then(function(t){return updateCache(e.request,t)})),t},function(){return fetch(e.request).then(function(t){return e.waitUntil(updateCache(e.request,t.clone())),t}).catch(function(e){console.log("[PWA Builder] Network request failed and no cache."+e)})}))});